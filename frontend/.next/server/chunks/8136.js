exports.id=8136,exports.ids=[8136],exports.modules={66515:(e,s,t)=>{Promise.resolve().then(t.bind(t,51763)),Promise.resolve().then(t.bind(t,16888))},51763:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ProfileHeader});var r=t(22406),a=t(98097),l=t.n(a),i=t(80404),o=t(55731),n=t.n(o),d=t(59469),c=t(94827),x=t(57190),m=t(35822);function ProfileActions({isOwnProfile:e,isFollowing:s,onFollow:t,onShare:a,userData:l}){let[o,h]=(0,i.useState)(!1),[p,u]=(0,i.useState)(!1),f=(0,i.useRef)(null),g=(0,i.useRef)(null);(0,i.useEffect)(()=>{let handleClickOutside=e=>{f.current&&!f.current.contains(e.target)&&h(!1),g.current&&!g.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]);let shareProfile=e=>{a(e),h(!1)};return e?(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(n(),{href:"/profile/edit",className:"flex-1 md:flex-none bg-gray-100 text-gray-900 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors inline-flex items-center justify-center",children:[r.jsx(d.Z,{size:16,className:"inline mr-2"}),"Edit Profile"]}),r.jsx(n(),{href:"/settings",className:"px-3 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors inline-flex items-center justify-center",children:r.jsx(c.Z,{size:16})})]}):(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:t,className:`flex-1 md:flex-none px-4 py-2 rounded-lg font-medium transition-colors ${s?"bg-gray-100 text-gray-900 hover:bg-gray-200":"bg-purple-500 text-white hover:bg-purple-600"}`,children:s?"Following":"Follow"}),(0,r.jsxs)("div",{className:"relative",ref:f,children:[r.jsx("button",{onClick:()=>{h(!o),u(!1)},className:"px-3 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors",children:r.jsx(x.Z,{size:16})}),o&&(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl py-1 z-50 min-w-[180px]",children:[r.jsx("button",{onClick:()=>shareProfile("copy"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"\uD83D\uDCCB Copy Profile Link"}),r.jsx("button",{onClick:()=>shareProfile("twitter"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"\uD83D\uDC26 Share on Twitter"}),r.jsx("button",{onClick:()=>shareProfile("facebook"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"\uD83D\uDCD8 Share on Facebook"}),r.jsx("button",{onClick:()=>shareProfile("linkedin"),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"\uD83D\uDCBC Share on LinkedIn"})]})]}),(0,r.jsxs)("div",{className:"relative",ref:g,children:[r.jsx("button",{onClick:()=>{u(!p),h(!1)},className:"px-3 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors",children:r.jsx(m.Z,{size:16})}),p&&(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl py-1 z-50 min-w-[160px]",children:[r.jsx("button",{onClick:()=>{console.log("Send message"),u(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"\uD83D\uDCAC Send Message"}),r.jsx("button",{onClick:()=>{console.log("Report user"),u(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"\uD83D\uDEA8 Report User"}),r.jsx("hr",{className:"my-1 border-gray-100"}),r.jsx("button",{onClick:()=>{console.log("Block user"),u(!1)},className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors font-medium",children:"\uD83D\uDEAB Block User"})]})]})]})}function ProfileStats({stats:e,isMobile:s=!1}){let t={stories:e?.stories||0,followers:e?.followers||0,following:e?.following||0,likes:e?.likes||0};return s?(0,r.jsxs)("div",{className:"flex justify-around py-4 border-y border-gray-100 mb-4",children:[(0,r.jsxs)("button",{className:"text-center hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[r.jsx("div",{className:"font-bold text-lg text-gray-900",children:t.stories}),r.jsx("div",{className:"text-sm text-gray-600",children:"Stories"})]}),(0,r.jsxs)(n(),{href:"/profile/followers",className:"text-center hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[r.jsx("div",{className:"font-bold text-lg text-gray-900",children:t.followers.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600",children:"Followers"})]}),(0,r.jsxs)(n(),{href:"/profile/following",className:"text-center hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[r.jsx("div",{className:"font-bold text-lg text-gray-900",children:t.following}),r.jsx("div",{className:"text-sm text-gray-600",children:"Following"})]}),(0,r.jsxs)("button",{className:"text-center hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[r.jsx("div",{className:"font-bold text-lg text-gray-900",children:t.likes.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600",children:"Likes"})]})]}):(0,r.jsxs)("div",{className:"flex space-x-8 mb-4",children:[(0,r.jsxs)("button",{className:"hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[r.jsx("span",{className:"font-bold text-gray-900",children:t.stories}),r.jsx("span",{className:"text-gray-600 ml-1",children:"stories"})]}),(0,r.jsxs)(n(),{href:"/profile/followers",className:"hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[r.jsx("span",{className:"font-bold text-gray-900",children:t.followers.toLocaleString()}),r.jsx("span",{className:"text-gray-600 ml-1",children:"followers"})]}),(0,r.jsxs)(n(),{href:"/profile/following",className:"hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[r.jsx("span",{className:"font-bold text-gray-900",children:t.following}),r.jsx("span",{className:"text-gray-600 ml-1",children:"following"})]}),(0,r.jsxs)("button",{className:"hover:bg-gray-50 px-2 py-1 rounded transition-colors",children:[r.jsx("span",{className:"font-bold text-gray-900",children:t.likes.toLocaleString()}),r.jsx("span",{className:"text-gray-600 ml-1",children:"likes"})]})]})}var h=t(75174),p=t(74542),u=t(16811);function ProfileBio({bio:e,location:s,joinDate:t,website:a,isMobile:l=!1}){return(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:e}),(0,r.jsxs)("div",{className:`flex flex-wrap items-center ${l?"gap-4":"gap-6"} text-sm text-gray-600`,children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(h.Z,{size:14}),r.jsx("span",{children:s})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(p.Z,{size:14}),(0,r.jsxs)("span",{children:["Joined ",t]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(u.Z,{size:14}),r.jsx("a",{href:`https://${a}`,className:"text-purple-600 hover:underline",children:a})]})]})]})}var f=t(69283),g=t(33466),v=t(34661),j=t(9695);function ProfileHeader({username:e}){let{user:s,isLoading:t}=(0,g.useAuth)(),[a,o]=(0,i.useState)(!1),[n,d]=(0,i.useState)(null),[c,x]=(0,i.useState)(!0),m=!e||e===s?.username;return((0,i.useEffect)(()=>{let fetchProfileData=async()=>{if(m){if(s)try{let e=await v.TV.getMe();d(e.data.user)}catch(e){console.error("Error fetching user data:",e),d(s)}else d(s);x(t)}else if(e){try{let s=await v.TV.getUserProfile(e);d(s.data.user)}catch(e){console.error("Error fetching profile:",e),d(null)}x(!1)}};fetchProfileData()},[s,e,t,m]),c)?r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"px-4 py-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:space-x-8",children:[r.jsx("div",{className:"w-20 h-20 md:w-[150px] md:h-[150px] bg-gray-200 rounded-full animate-pulse mb-4 md:mb-0"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-2 animate-pulse"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-4 animate-pulse"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded w-24 animate-pulse"})]})]})})}):n?r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"px-4 py-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:space-x-8",children:[r.jsx(l(),{src:(0,j.E$)(n.avatar),alt:n.name||"User",width:80,height:80,className:"rounded-full md:w-[150px] md:h-[150px] mb-4 md:mb-0"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-1",children:n.name||"User"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-3 md:mb-4",children:["@",n.username||"username"]}),r.jsx(ProfileActions,{isOwnProfile:m,isFollowing:a,onFollow:()=>{o(!a)},onShare:e=>{n&&(0,f.Mv)(e,n)},userData:n})]}),r.jsx(ProfileStats,{stats:n.stats||{},isMobile:!1}),r.jsx("div",{className:"md:hidden",children:r.jsx(ProfileStats,{stats:n.stats||{},isMobile:!0})}),r.jsx(ProfileBio,{bio:n.bio||"",location:n.location||"",joinDate:n.joinDate||new Date().toISOString(),website:n.website||""})]})]})})}):r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"px-4 py-6 text-center",children:r.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile."})})})}},16888:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ProfileTabs});var r=t(22406),a=t(80404),l=t(83127),i=t(57327),o=t(31893),n=t(55731),d=t.n(n),c=t(84867),x=t(59315),m=t(33326),h=t(33466),p=t(34661);function StoriesGrid(){let{user:e}=(0,h.useAuth)(),[s,t]=(0,a.useState)([]),[i,n]=(0,a.useState)(!0),[u,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{e?.id&&fetchUserStories()},[e?.id]);let fetchUserStories=async()=>{try{n(!0);let s=await p.fh.getUserStories(e.id);console.log("Fetched stories:",s.data.stories),t(s.data.stories)}catch(e){console.error("Error fetching stories:",e),f(e.message||"Failed to fetch stories")}finally{n(!1)}};if(i)return r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})});if(u)return(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-600 mb-4",children:u}),r.jsx("button",{onClick:fetchUserStories,className:"text-purple-600 hover:text-purple-700 font-medium",children:"Try Again"})]});let g=s.filter(e=>"approved"===e.status),v=s.filter(e=>"draft"===e.status);return s.filter(e=>"pending"===e.status),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)(d(),{href:"/create",className:"block w-full p-8 border-2 border-dashed border-gray-300 rounded-xl text-center hover:border-purple-400 hover:bg-purple-50 transition-colors group",children:[r.jsx(c.Z,{size:32,className:"mx-auto text-gray-400 group-hover:text-purple-500 mb-2"}),r.jsx("p",{className:"text-gray-600 group-hover:text-purple-600 font-medium",children:"Create New Story"})]}),g.length>0&&(0,r.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 via-white to-indigo-50 border border-purple-100 rounded-2xl p-6 shadow-sm shadow-purple-200/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-purple-800",children:"Published Stories"}),r.jsx("span",{className:"flex-1 h-px bg-gradient-to-r from-purple-200 via-indigo-200 to-transparent"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(e=>(0,r.jsxs)(d(),{href:`/story/${e._id}`,className:"group",children:[(0,r.jsxs)("div",{className:"relative aspect-square rounded-2xl overflow-hidden border border-purple-200/70 bg-gradient-to-br from-purple-700 via-indigo-700 to-slate-900 shadow-md shadow-purple-200/40",children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-4xl font-semibold text-white/90 tracking-[0.35em]",children:e.title.charAt(0)})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/25 via-indigo-900/30 to-slate-900/35 opacity-0 group-hover:opacity-100 transition-all duration-300 backdrop-blur-[2px]"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-white",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1 text-sm font-medium",children:[r.jsx(o.Z,{size:16}),r.jsx("span",{children:e.stats.likes})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 text-sm font-medium",children:[r.jsx(x.Z,{size:16}),r.jsx("span",{children:e.stats.comments})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 text-sm font-medium",children:[r.jsx(m.Z,{size:16}),r.jsx("span",{children:e.stats.views})]})]})}),r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx("span",{className:"px-2 py-1 rounded-full border border-white/20 bg-white/10 text-white text-xs font-medium backdrop-blur-sm",children:e.genre})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-purple-600 transition-colors line-clamp-1",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-purple-600/80",children:[(0,r.jsxs)("span",{children:[e.stats.likes," likes"]}),(0,r.jsxs)("span",{children:[e.stats.views," views"]})]})]})]},e._id))})]}),v.length>0&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Drafts"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(e=>(0,r.jsxs)("button",{onClick:()=>alert("Coming Soon!"),className:"group text-left w-full",children:[(0,r.jsxs)("div",{className:"relative aspect-square rounded-xl overflow-hidden bg-gray-100",children:[r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center opacity-50 group-hover:opacity-75 transition-opacity",children:r.jsx("span",{className:"text-white text-2xl font-bold",children:e.title.charAt(0)})}),r.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-20 flex items-center justify-center",children:r.jsx("div",{className:"bg-gray-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Draft"})}),r.jsx("div",{className:"absolute top-2 left-2",children:r.jsx("span",{className:"px-2 py-1 bg-black bg-opacity-70 text-white text-xs font-medium rounded-full",children:e.genre})})]}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-purple-600 transition-colors line-clamp-1",children:e.title}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Continue editing"})]})]},e._id))})]}),0===s.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:r.jsx(l.Z,{size:32,className:"text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Stories Yet"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Start sharing your creativity with the world"}),(0,r.jsxs)(d(),{href:"/create",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-full font-medium hover:from-purple-600 hover:to-pink-600 transition-all",children:[r.jsx(c.Z,{size:16}),r.jsx("span",{children:"Create Your First Story"})]})]})]})}var u=t(98097),f=t.n(u),g=t(38837),v=t(9695);let j=[{id:7,title:"The Art of Letting Go",author:{name:"Maya Patel",username:"mayapoetry",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=32&h=32&fit=crop&crop=face"},image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop",genre:"Poetry",likes:234,comments:19,savedAt:"2 days ago",excerpt:"Like autumn leaves that dance on wind, our memories float away..."},{id:8,title:"Midnight in Tokyo",author:{name:"Yuki Tanaka",username:"yukistories",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=32&h=32&fit=crop&crop=face"},image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=300&h=300&fit=crop",genre:"Fiction",likes:567,comments:45,savedAt:"1 week ago",excerpt:"The neon lights reflected off the wet streets as I walked through Shibuya..."},{id:9,title:"The Digital Nomad's Journey",author:{name:"Alex Thompson",username:"alexwrites",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face"},image:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=300&h=300&fit=crop",genre:"Non-Fiction",likes:342,comments:28,savedAt:"2 weeks ago",excerpt:"Working from coffee shops around the world taught me more than any office..."}];function SavedStories({activeTab:e}){let{user:s}=(0,h.useAuth)(),[t,l]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{s?.id&&fetchSavedStories()},[s?.id]),(0,a.useEffect)(()=>{"saved"===e&&s?.id&&fetchSavedStories()},[e,s?.id]),(0,a.useEffect)(()=>{let handleSavedStoriesUpdate=()=>{"saved"===e&&s?.id&&fetchSavedStories()};return window.addEventListener("savedStoriesUpdated",handleSavedStoriesUpdate),()=>window.removeEventListener("savedStoriesUpdated",handleSavedStoriesUpdate)},[e,s?.id]);let fetchSavedStories=async()=>{try{c(!0),console.log("Fetching saved stories for user:",s.id);let e=await p.TV.getUserSavedStories(s.id);console.log("Saved stories response:",e),console.log("Full response data:",e.data);let t=e.data?.stories||e.data?.savedStories||e.data||[];console.log("Setting saved stories:",t),l(t)}catch(e){console.error("Error fetching saved stories:",e),l(j)}finally{c(!1)}},handleUnsave=async e=>{try{await p.fh.saveStory(e),l(t.filter(s=>s._id!==e&&s.id!==e))}catch(e){console.error("Error unsaving story:",e)}},handleLike=async e=>{try{await p.fh.likeStory(e),l(t.map(s=>{if(s._id===e||s.id===e){let e=s.likes||s.stats?.likes||0,t=s.isLiked;return{...s,isLiked:!t,likes:t?e-1:e+1,stats:s.stats?{...s.stats,likes:t?e-1:e+1}:void 0}}return s}))}catch(e){console.error("Error liking story:",e)}};return n?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):0===t.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:r.jsx(i.Z,{size:32,className:"text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Saved Stories"}),r.jsx("p",{className:"text-gray-600",children:"Stories you save will appear here"})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Saved Stories"}),r.jsx("button",{onClick:fetchSavedStories,className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors",children:"Refresh"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:["Found ",t.length," saved stories"]}),t.map(e=>{let s=e._id||e.id;return r.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"md:flex",children:[r.jsx("div",{className:"md:w-48 h-48 md:h-auto relative flex-shrink-0",children:r.jsx(d(),{href:`/story/${s}`,children:r.jsx(f(),{src:(0,v.Jn)(e.image),alt:e.title,fill:!0,className:"object-cover hover:scale-105 transition-transform duration-300"})})}),(0,r.jsxs)("div",{className:"flex-1 p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(d(),{href:`/profile/${e.author?.username||"user"}`,children:r.jsx(f(),{src:(0,v.E$)(e.author?.avatar),alt:e.author?.name||"User",width:32,height:32,className:"rounded-full"})}),(0,r.jsxs)("div",{children:[r.jsx(d(),{href:`/profile/${e.author?.username||"user"}`,className:"font-medium text-gray-900 hover:text-purple-600",children:e.author?.name||"User"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["@",e.author?.username||"user"]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(g.Z,{size:12}),(0,r.jsxs)("span",{children:["Saved ",e.savedAt]})]})]})]})]}),r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:e.genre})]}),(0,r.jsxs)(d(),{href:`/story/${s}`,children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 hover:text-purple-600 transition-colors",children:e.title}),r.jsx("p",{className:"text-gray-700 mb-3 line-clamp-2",children:e.excerpt||e.content?.substring(0,150)+"..."})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,r.jsxs)("button",{onClick:()=>handleLike(s),className:"flex items-center space-x-1 hover:text-red-500 transition-colors",children:[r.jsx(o.Z,{size:16,className:e.isLiked?"fill-red-500 text-red-500":""}),r.jsx("span",{children:e.likes||e.stats?.likes||0})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(x.Z,{size:16}),r.jsx("span",{children:e.comments||e.stats?.comments||0})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>handleUnsave(s),className:"text-purple-600 hover:text-purple-700 p-1 transition-colors",title:"Remove from saved",children:r.jsx(i.Z,{size:16,className:"fill-purple-600"})}),r.jsx(d(),{href:`/story/${s}`,className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Read"})]})]})]})]})},s)})]})}let y=[{id:10,title:"Code of the Heart",author:{name:"David Kim",username:"davidcodes",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face"},image:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=300&h=300&fit=crop",genre:"Romance",likes:189,comments:23,likedAt:"3 hours ago",excerpt:"In the world of algorithms and data structures, love was the one equation I couldn't solve..."},{id:11,title:"Whispers of the Forest",author:{name:"Luna Martinez",username:"lunapoetry",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=32&h=32&fit=crop&crop=face"},image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=300&h=300&fit=crop",genre:"Poetry",likes:156,comments:8,likedAt:"1 day ago",excerpt:"Beneath the canopy of ancient oaks, where sunlight dances and shadow cloaks..."},{id:12,title:"The Time Traveler's Dilemma",author:{name:"Marcus Chen",username:"marcusscifi",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=32&h=32&fit=crop&crop=face"},image:"https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=300&h=300&fit=crop",genre:"Sci-Fi",likes:423,comments:67,likedAt:"3 days ago",excerpt:"Every choice creates a new timeline, but some choices should never be made..."}];function LikedStories(){let{user:e}=(0,h.useAuth)(),[s,t]=(0,a.useState)([]),[l,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let loadLikedStories=async()=>{try{n(!0);let e=await p.TV.getUserLikedStories();t(e.data.stories||[])}catch(e){console.error("Failed to load liked stories:",e),t(y)}finally{n(!1)}};e&&loadLikedStories()},[e]);let handleUnlike=async e=>{try{await p.fh.likeStory(e),t(s.filter(s=>s._id!==e&&s.id!==e))}catch(e){console.error("Error unliking story:",e)}},handleSave=async e=>{try{await p.fh.saveStory(e),t(s.map(s=>s._id===e||s.id===e?{...s,isSaved:!s.isSaved}:s))}catch(e){console.error("Error saving story:",e)}};return l?r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-100 overflow-hidden animate-pulse",children:(0,r.jsxs)("div",{className:"md:flex",children:[r.jsx("div",{className:"md:w-48 h-48 md:h-auto bg-gray-200"}),(0,r.jsxs)("div",{className:"flex-1 p-4 md:p-6",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},e))}):0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:r.jsx(o.Z,{size:32,className:"text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Liked Stories"}),r.jsx("p",{className:"text-gray-600",children:"Stories you like will appear here"})]}):r.jsx("div",{className:"space-y-4",children:s.map(e=>{let s=e._id||e.id;return r.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"md:flex",children:[r.jsx("div",{className:"md:w-48 h-48 md:h-auto relative flex-shrink-0",children:r.jsx(d(),{href:`/story/${s}`,children:r.jsx(f(),{src:(0,v.Jn)(e.image),alt:e.title,fill:!0,className:"object-cover hover:scale-105 transition-transform duration-300"})})}),(0,r.jsxs)("div",{className:"flex-1 p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(d(),{href:`/profile/${e.author?.username||"user"}`,children:r.jsx(f(),{src:(0,v.E$)(e.author?.avatar),alt:e.author?.name||"User",width:32,height:32,className:"rounded-full"})}),(0,r.jsxs)("div",{children:[r.jsx(d(),{href:`/profile/${e.author?.username||"user"}`,className:"font-medium text-gray-900 hover:text-purple-600",children:e.author?.name||"User"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["@",e.author?.username||"user"]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(g.Z,{size:12}),(0,r.jsxs)("span",{children:["Liked ",e.likedAt]})]})]})]})]}),r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:e.genre})]}),(0,r.jsxs)(d(),{href:`/story/${s}`,children:[r.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 hover:text-purple-600 transition-colors",children:e.title}),r.jsx("p",{className:"text-gray-700 mb-3 line-clamp-2",children:e.excerpt||e.content?.substring(0,150)+"..."})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,r.jsxs)("button",{onClick:()=>handleUnlike(s),className:"flex items-center space-x-1 hover:text-red-600 transition-colors",title:"Unlike",children:[r.jsx(o.Z,{size:16,className:"fill-red-500 text-red-500"}),r.jsx("span",{children:e.likes||e.stats?.likes||0})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(x.Z,{size:16}),r.jsx("span",{children:e.comments||e.stats?.comments||0})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>handleSave(s),className:"text-gray-600 hover:text-purple-600 p-1 transition-colors",title:e.isSaved?"Unsave":"Save",children:r.jsx(i.Z,{size:16,className:e.isSaved?"fill-purple-600 text-purple-600":""})}),r.jsx(d(),{href:`/story/${s}`,className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Read"})]})]})]})]})},s)})})}let b=[{id:"stories",label:"Stories",icon:l.Z},{id:"saved",label:"Saved",icon:i.Z},{id:"liked",label:"Liked",icon:o.Z}];function ProfileTabs({username:e}){let[s,t]=(0,a.useState)("stories");return(0,r.jsxs)("div",{className:"bg-white",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("div",{className:"flex justify-center",children:b.map(({id:e,label:a,icon:l})=>(0,r.jsxs)("button",{onClick:()=>t(e),className:`flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s===e?"border-purple-500 text-purple-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[r.jsx(l,{size:16}),r.jsx("span",{className:"hidden sm:inline",children:a})]},e))})}),r.jsx("div",{className:"p-4",children:(()=>{switch(s){case"stories":default:return r.jsx(StoriesGrid,{});case"saved":return r.jsx(SavedStories,{activeTab:s});case"liked":return r.jsx(LikedStories,{})}})()})]})}},29471:(e,s,t)=>{"use strict";t.d(s,{ZP:()=>n});var r=t(19894);let a=(0,r.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\components\profile\ProfileHeader.tsx`),{__esModule:l,$$typeof:i}=a,o=a.default,n=o},3973:(e,s,t)=>{"use strict";t.d(s,{ZP:()=>n});var r=t(19894);let a=(0,r.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\components\profile\ProfileTabs.tsx`),{__esModule:l,$$typeof:i}=a,o=a.default,n=o}};