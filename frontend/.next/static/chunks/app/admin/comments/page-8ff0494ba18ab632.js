(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7594],{31621:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},6026:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},51843:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},52080:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},35523:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},96199:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},52183:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},81917:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]])},39300:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(57068);let a=(0,r.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},31073:function(e,t,s){Promise.resolve().then(s.bind(s,25045))},25045:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return CommentsManager}});var r=s(37821),a=s(58078),n=s(51843),l=s(6026);s(39300);var i=s(35523),d=s(52183),c=s(31621),o=s(81917),m=s(52080),h=s(96199),x=s(45039),u=s.n(x);let g={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",flagged:"bg-orange-100 text-orange-800"};function CommentsManager(){let[e,t]=(0,a.useState)([]),[s,x]=(0,a.useState)(""),[p,y]=(0,a.useState)("all"),[f,j]=(0,a.useState)([]),[v,N]=(0,a.useState)(!1),[b,w]=(0,a.useState)(null),[k,C]=(0,a.useState)(1);(0,a.useEffect)(()=>{t([{id:1,content:"This is an amazing story! The plot twists kept me engaged throughout. Great work!",authorId:101,authorName:"Sarah Johnson",authorAvatar:"https://randomuser.me/api/portraits/women/1.jpg",storyId:201,storyTitle:"The Lost Kingdom",storyAuthor:"john_doe",status:"pending",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",likes:12,replies:3},{id:2,content:"I found some grammatical errors in paragraph 3. Otherwise, really enjoyed it!",authorId:102,authorName:"Mike Chen",authorAvatar:"https://randomuser.me/api/portraits/men/2.jpg",storyId:202,storyTitle:"Digital Dreams",storyAuthor:"jane_smith",status:"approved",createdAt:"2024-01-14T14:20:00Z",updatedAt:"2024-01-14T15:45:00Z",likes:5,replies:1},{id:3,content:"This content is inappropriate and should not be on this platform.",authorId:103,authorName:"Anonymous User",authorAvatar:"",storyId:203,storyTitle:"Dark Secrets",storyAuthor:"mystery_writer",status:"flagged",createdAt:"2024-01-13T09:15:00Z",updatedAt:"2024-01-13T11:30:00Z",likes:0,replies:0},{id:4,content:"Beautiful writing! Can't wait for the next chapter.",authorId:104,authorName:"Emma Davis",authorAvatar:"https://randomuser.me/api/portraits/women/3.jpg",storyId:201,storyTitle:"The Lost Kingdom",storyAuthor:"john_doe",status:"approved",createdAt:"2024-01-12T16:45:00Z",updatedAt:"2024-01-12T16:45:00Z",likes:8,replies:2}])},[]);let Z=e.filter(e=>{let t=e.content.toLowerCase().includes(s.toLowerCase())||e.authorName.toLowerCase().includes(s.toLowerCase())||e.storyTitle.toLowerCase().includes(s.toLowerCase()),r="all"===p||e.status===p;return t&&r}),A=10*k,S=A-10,T=Z.slice(S,A),z=Math.ceil(Z.length/10),handleSelectComment=e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},handleViewComment=e=>{w(e),N(!0)},handleStatusChange=(s,r)=>{t(e.map(e=>e.id===s?{...e,status:r,updatedAt:new Date().toISOString()}:e))},handleBulkStatusChange=s=>{t(e.map(e=>f.includes(e.id)?{...e,status:s,updatedAt:new Date().toISOString()}:e)),j([])},formatDate=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Comments Management"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Review and moderate story comments"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Comments"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),(0,r.jsx)(i.Z,{className:"h-8 w-8 text-blue-600"})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"pending"===e.status).length})]}),(0,r.jsx)(n.Z,{className:"h-8 w-8 text-yellow-600"})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"approved"===e.status).length})]}),(0,r.jsx)(l.Z,{className:"h-8 w-8 text-green-600"})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Flagged"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"flagged"===e.status).length})]}),(0,r.jsx)(i.Z,{className:"h-8 w-8 text-red-600"})]})})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,r.jsx)(d.Z,{className:"h-5 w-5 text-gray-400 group-focus-within:text-purple-500 transition-colors duration-200"})}),(0,r.jsx)("input",{type:"text",placeholder:"Search comments...",value:s,onChange:e=>x(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl bg-gradient-to-r from-white to-gray-50 hover:from-gray-50 hover:to-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white text-gray-900 placeholder-gray-400 shadow-sm transition-all duration-200 hover:shadow-md focus:shadow-lg"})]}),(0,r.jsxs)("select",{value:p,onChange:e=>y(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl bg-gradient-to-r from-white to-gray-50 hover:from-gray-50 hover:to-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white text-gray-900 shadow-sm transition-all duration-200 hover:shadow-md focus:shadow-lg appearance-none",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"pending",children:"Pending"}),(0,r.jsx)("option",{value:"approved",children:"Approved"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"}),(0,r.jsx)("option",{value:"flagged",children:"Flagged"})]}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})}),f.length>0&&(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[f.length," comment(s) selected"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>handleBulkStatusChange("approved"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Approve Selected"}),(0,r.jsx)("button",{onClick:()=>handleBulkStatusChange("rejected"),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Reject Selected"}),(0,r.jsx)("button",{onClick:()=>j([]),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Clear"})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:f.length>0&&f.length===T.length,onChange:()=>{j(f.length===T.length?[]:T.map(e=>e.id))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,r.jsxs)("span",{className:"ml-3 text-sm font-medium text-gray-900",children:["Comments (",Z.length,")"]})]})}),T.length>0?(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:T.map(e=>(0,r.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsx)("input",{type:"checkbox",checked:f.includes(e.id),onChange:()=>handleSelectComment(e.id),className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[e.authorAvatar?(0,r.jsx)(u(),{src:e.authorAvatar,alt:e.authorName,width:32,height:32,className:"rounded-full h-8 w-8"}):(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-400 to-gray-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.authorName.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:e.authorName}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:['on "',e.storyTitle,'" by ',e.storyAuthor]})]}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g[e.status]),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-3 line-clamp-3",children:e.content}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(c.Z,{size:14,className:"mr-1"}),formatDate(e.createdAt)]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(o.Z,{size:14,className:"mr-1"}),e.likes]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(i.Z,{size:14,className:"mr-1"}),e.replies," replies"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>handleViewComment(e),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",title:"View Details",children:(0,r.jsx)(m.Z,{size:16})}),(0,r.jsxs)("select",{value:e.status,onChange:t=>handleStatusChange(e.id,t.target.value),className:"text-xs border border-gray-200 rounded px-2 py-1 bg-white",children:[(0,r.jsx)("option",{value:"pending",children:"Pending"}),(0,r.jsx)("option",{value:"approved",children:"Approved"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"}),(0,r.jsx)("option",{value:"flagged",children:"Flagged"})]}),(0,r.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:(0,r.jsx)(h.Z,{size:16})})]})]})})]})},e.id))}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(i.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No comments found"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]}),z>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",(0,r.jsx)("span",{className:"font-medium",children:S+1})," to"," ",(0,r.jsx)("span",{className:"font-medium",children:Math.min(A,Z.length)})," ","of ",(0,r.jsx)("span",{className:"font-medium",children:Z.length})," results"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>C(e=>Math.max(1,e-1)),disabled:1===k,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,r.jsx)("button",{onClick:()=>C(e=>Math.min(z,e+1)),disabled:k===z,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]}),v&&b&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Comment Details"}),(0,r.jsxs)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-500",children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[b.authorAvatar?(0,r.jsx)(u(),{src:b.authorAvatar,alt:b.authorName,width:40,height:40,className:"rounded-full h-10 w-10"}):(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-gray-400 to-gray-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:b.authorName.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:b.authorName}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:['Comment on "',b.storyTitle,'"']})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Comment Content"}),(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-gray-700",children:b.content})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(o.Z,{size:14,className:"mr-1"}),b.likes," likes"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(i.Z,{size:14,className:"mr-1"}),b.replies," replies"]}),(0,r.jsxs)("span",{children:["Posted: ",formatDate(b.createdAt)]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g[b.status]),children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})]})]}),(0,r.jsx)("div",{className:"mt-6 flex justify-end space-x-3",children:(0,r.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"})})]})})})]})}},84434:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let r=s(32582),a=r._(s(58078)),n=a.default.createContext(null)}},function(e){e.O(0,[6895,7115,2835,1744],function(){return e(e.s=31073)}),_N_E=e.O()}]);