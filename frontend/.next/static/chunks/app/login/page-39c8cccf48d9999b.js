(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{20110:function(e,t,o){Promise.resolve().then(o.bind(o,22811))},22811:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return LoginPage}});var n=o(37821),i=o(58078),r=o(46179),a=o(91892);function LoginPage(){let[e,t]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[d,s]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),g=(0,r.useRouter)(),handleLogin=async t=>{t.preventDefault(),s(!0),u("");try{let t=await a.Z.post("/api/v1/auth/login",{email:e,password:o});if(u("Login successful! Redirecting..."),t.data.token){localStorage.setItem("dhyey_token",t.data.token),localStorage.setItem("dhyey_user",JSON.stringify(t.data.data.user));let e=new Date().getTime()+864e5;localStorage.setItem("dhyey_token_expiry",e.toString()),console.log("Token stored:",t.data.token),document.cookie="token=".concat(t.data.token,"; path=/; max-age=2592000")}setTimeout(()=>{g.push("/")},1e3)}catch(e){var n,i;u((null===(i=e.response)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.message)||"Login failed")}finally{s(!1)}};return(0,n.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)("div",{style:{maxWidth:"400px",padding:"40px",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)("h1",{style:{color:"#333",textAlign:"center",marginBottom:"30px"},children:"DHYEY Login"}),(0,n.jsxs)("form",{onSubmit:handleLogin,children:[(0,n.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,n.jsx)("label",{style:{color:"#333",display:"block",marginBottom:"5px"},children:"Email:"}),(0,n.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",color:"#333",backgroundColor:"white"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("label",{style:{color:"#333",display:"block",marginBottom:"5px"},children:"Password:"}),(0,n.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",color:"#333",backgroundColor:"white"}})]}),(0,n.jsx)("button",{type:"submit",disabled:d,style:{width:"100%",padding:"12px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",cursor:d?"not-allowed":"pointer"},children:d?"Logging in...":"Login"})]}),c&&(0,n.jsx)("p",{style:{marginTop:"15px",color:c.includes("successful")?"green":"red",textAlign:"center"},children:c}),(0,n.jsxs)("p",{style:{marginTop:"20px",textAlign:"center",color:"#666"},children:["Don't have an account? ",(0,n.jsx)("a",{href:"/register",style:{color:"#007bff",textDecoration:"none"},children:"Register"})]})]})})}}},function(e){e.O(0,[3874,8907,7115,2835,1744],function(){return e(e.s=20110)}),_N_E=e.O()}]);