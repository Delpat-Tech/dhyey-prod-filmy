exports.id=9930,exports.ids=[9930],exports.modules={4500:(e,t,r)=>{Promise.resolve().then(r.bind(r,33870)),Promise.resolve().then(r.bind(r,75195)),Promise.resolve().then(r.bind(r,33466))},75847:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,42927,23)),Promise.resolve().then(r.t.bind(r,14169,23)),Promise.resolve().then(r.t.bind(r,70295,23)),Promise.resolve().then(r.t.bind(r,27294,23)),Promise.resolve().then(r.t.bind(r,32746,23)),Promise.resolve().then(r.t.bind(r,57872,23))},33870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ConditionalLayout});var s=r(22406),a=r(80404),o=r(36460),i=r(5370),n=r(55731),l=r.n(n),d=r(85524),c=r(23149),h=r(40993),u=r(68888),m=r(81380),g=r(84867),x=r(19785),p=r(53344),y=r(88598),f=r(29857),v=r(38837);function NotificationCenter(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!1),[i,n]=(0,a.useState)(!1);(0,a.useEffect)(()=>{loadNotifications()},[]);let loadNotifications=async()=>{try{n(!0);let e=[{id:"1",type:"story_approved",title:"Story Approved!",message:"Your story has been approved and is now live.",storyId:"123",storyTitle:"The Digital Dreams",createdAt:new Date().toISOString(),read:!1},{id:"2",type:"story_rejected",title:"Story Needs Revision",message:"Your story requires some changes before publication.",storyId:"124",storyTitle:"Midnight Tales",reason:"Content does not meet community guidelines",createdAt:new Date(Date.now()-864e5).toISOString(),read:!1}];t(e)}catch(e){console.error("Failed to load notifications:",e)}finally{n(!1)}},markAsRead=async e=>{try{t(t=>t.map(t=>t.id===e?{...t,read:!0}:t))}catch(e){console.error("Failed to mark notification as read:",e)}},markAllAsRead=async()=>{try{t(e=>e.map(e=>({...e,read:!0})))}catch(e){console.error("Failed to mark all notifications as read:",e)}},l=e.filter(e=>!e.read).length,getNotificationIcon=e=>{switch(e){case"story_approved":return s.jsx(p.Z,{className:"w-5 h-5 text-green-500"});case"story_rejected":return s.jsx(x.Z,{className:"w-5 h-5 text-red-500"});default:return s.jsx(y.Z,{className:"w-5 h-5 text-blue-500"})}},formatTime=e=>{let t=new Date(e),r=new Date,s=Math.floor((r.getTime()-t.getTime())/36e5);return s<1?"Just now":s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>o(!r),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors",children:[s.jsx(f.Z,{className:"w-6 h-6"}),l>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:l>9?"9+":l})]}),r&&(0,s.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-xl z-50 max-h-96 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),l>0&&s.jsx("button",{onClick:markAllAsRead,className:"text-sm text-purple-600 hover:text-purple-700",children:"Mark all read"})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:i?(0,s.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(v.Z,{className:"w-6 h-6 mx-auto mb-2 animate-spin"}),"Loading notifications..."]}):0===e.length?(0,s.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(f.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),"No notifications yet"]}):e.map(e=>s.jsx("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 cursor-pointer transition-colors ${e.read?"":"bg-blue-50"}`,onClick:()=>markAsRead(e.id),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:getNotificationIcon(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),s.jsx("span",{className:"text-xs text-gray-500",children:formatTime(e.createdAt)})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),e.storyTitle&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:['Story: "',e.storyTitle,'"']}),e.reason&&(0,s.jsxs)("p",{className:"text-xs text-red-600 mt-1 bg-red-50 p-2 rounded",children:["Reason: ",e.reason]}),!e.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})]})]})},e.id))}),e.length>0&&s.jsx("div",{className:"p-3 border-t border-gray-100 text-center",children:s.jsx("button",{className:"text-sm text-purple-600 hover:text-purple-700",children:"View all notifications"})})]}),r&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})}function Navbar(){let[e,t]=(0,a.useState)(!1);return(0,s.jsxs)("nav",{className:"bg-white border-r border-gray-200 h-full w-full flex flex-col py-4",children:[s.jsx("div",{className:"px-4 mb-8",children:(0,s.jsxs)(l(),{href:"/",className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center transition-all duration-300 group-hover:scale-110 group-hover:rotate-12",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"FC"})}),(0,s.jsxs)("div",{className:"flex flex-col leading-tight",children:[s.jsx("span",{className:"text-base font-bold text-gray-900 transition-colors duration-300 group-hover:text-purple-600",children:"Filmy Creatives"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Production Suite"})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2 px-4",children:[(0,s.jsxs)("div",{className:"mt-2 mb-2 flex items-center gap-3",children:[s.jsx("span",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 to-gray-200"}),s.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-gray-400",children:"Navigation"}),s.jsx("span",{className:"flex-1 h-px bg-gradient-to-l from-transparent via-gray-300 to-gray-200"})]}),(0,s.jsxs)(l(),{href:"/",className:"text-gray-700 hover:text-gray-900 font-medium transition-all duration-300 hover:translate-x-2 hover:text-purple-600 flex items-center space-x-3 py-3 px-3 rounded-lg hover:bg-gray-50",children:[s.jsx(d.Z,{className:"h-4 w-4"}),s.jsx("span",{children:"Home"})]}),(0,s.jsxs)(l(),{href:"/search",className:"text-gray-700 hover:text-gray-900 font-medium transition-all duration-300 hover:translate-x-2 hover:text-purple-600 flex items-center space-x-3 py-3 px-3 rounded-lg hover:bg-gray-50",children:[s.jsx(c.Z,{className:"h-4 w-4"}),s.jsx("span",{children:"Discover"})]}),(0,s.jsxs)(l(),{href:"/dhey-production",className:"text-gray-700 hover:text-gray-900 font-medium transition-all duration-300 hover:translate-x-2 hover:text-purple-600 flex items-center space-x-3 py-3 px-3 rounded-lg hover:bg-gray-50",children:[s.jsx(h.Z,{className:"h-4 w-4"}),s.jsx("span",{children:"DHEY Production"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2 px-4 mt-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-1 mb-3",children:[s.jsx("span",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 to-gray-200"}),s.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-gray-400",children:"Quick Access"}),s.jsx("span",{className:"flex-1 h-px bg-gradient-to-l from-transparent via-gray-300 to-gray-200"})]}),(0,s.jsxs)("div",{className:"flex space-x-12",children:[s.jsx(l(),{href:"/search",className:"p-3 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center",children:s.jsx(u.Z,{size:20})}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(NotificationCenter,{})}),s.jsx(l(),{href:"/profile",className:"p-3 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center",children:s.jsx(m.Z,{className:"h-6 w-5"})})]}),(0,s.jsxs)(l(),{href:"/create",className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-3 rounded-lg font-medium hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 flex items-center justify-center space-x-2 hover:scale-105 hover:shadow-lg active:scale-95 transform",children:[s.jsx(g.Z,{size:16}),s.jsx("span",{children:"Create"})]})]}),s.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-600 hover:text-gray-900 transition-all duration-300 hover:scale-110 active:scale-95 self-end mr-4 mt-4",children:s.jsx("div",{className:"transition-transform duration-300",children:e?s.jsx(x.Z,{size:24,className:"rotate-90"}):s.jsx(i.Z,{size:24})})}),e&&s.jsx("div",{className:"md:hidden py-4 border-t border-gray-200 animate-in slide-in-from-top duration-300 absolute top-full left-0 right-0 bg-white",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-4 px-4",children:[s.jsx(l(),{href:"/",className:"text-gray-700 hover:text-gray-900 font-medium px-2 py-1 transition-all duration-300 hover:translate-x-2 hover:text-purple-600",onClick:()=>t(!1),children:"Home"}),s.jsx(l(),{href:"/search",className:"text-gray-700 hover:text-gray-900 font-medium px-2 py-1 transition-all duration-300 hover:translate-x-2 hover:text-purple-600",onClick:()=>t(!1),children:"Discover"}),s.jsx(l(),{href:"/dhey-production",className:"text-gray-700 hover:text-gray-900 font-medium px-2 py-1 transition-all duration-300 hover:translate-x-2 hover:text-purple-600",onClick:()=>t(!1),children:"DHEY Production"}),s.jsx(l(),{href:"/create",className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-4 py-2 rounded-full font-medium text-center transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 transform",onClick:()=>t(!1),children:"Create Story"})]})})]})}var b=r(76439);function BottomNav(){let e=(0,o.usePathname)(),t=[{href:"/",icon:d.Z,label:"Home"},{href:"/search",icon:u.Z,label:"Search"},{href:"/create",icon:g.Z,label:"Create"},{href:"/dhey-production",icon:b.Z,label:"DHEY"},{href:"/profile",icon:m.Z,label:"Profile"}];return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:s.jsx("div",{className:"flex justify-around items-center py-2",children:t.map(({href:t,icon:r,label:a})=>{let o=e===t;return(0,s.jsxs)(l(),{href:t,className:`flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 transform hover:scale-110 active:scale-95 ${o?"text-purple-600 bg-purple-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[s.jsx(r,{size:20,className:`transition-all duration-300 ${o?"text-purple-600 animate-bounce":"text-gray-600"}`}),s.jsx("span",{className:`text-xs mt-1 transition-all duration-300 ${o?"text-purple-600 font-medium scale-105":"text-gray-600"}`,children:a})]},t)})})})}function ConditionalLayout({children:e}){let t=(0,o.usePathname)(),[r,n]=(0,a.useState)(!0),l="/login"===t||"/register"===t||"/auth/login"===t||"/auth/register"===t||"/auth/forgot-password"===t||t.startsWith("/admin");return(0,s.jsxs)("div",{className:"flex min-h-screen",children:[!l&&r&&s.jsx("div",{className:"hidden md:block fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 z-40",children:s.jsx(Navbar,{})}),(0,s.jsxs)("main",{className:`flex-1 ${!l&&r?"md:ml-64":""} ${l?"":"pb-16 md:pb-0"} relative`,children:[!l&&s.jsx("button",{onClick:()=>n(!r),className:"hidden md:block fixed top-4 left-4 z-50 p-2 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-50 transition-colors",children:s.jsx(i.Z,{size:20})}),e]}),!l&&s.jsx("div",{className:"md:hidden",children:s.jsx(BottomNav,{})})]})}},75195:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ToastContainer});var s=r(22406),a=r(80404),o=r(78775),i=r(66738),n=r(92974),l=r(88598),d=r(19785),c=r(55318);function ToastContainer(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=c.D2.subscribe(e=>{let r=Date.now(),s={id:r,message:e.message,type:e.type,duration:e.duration||3e3};t(e=>[...e,s]),setTimeout(()=>{t(e=>e.filter(e=>e.id!==r))},e.duration||3e3)});return()=>{e()}},[]);let removeToast=e=>{t(t=>t.filter(t=>t.id!==e))},r={success:s.jsx(o.Z,{className:"w-5 h-5 text-green-600"}),error:s.jsx(i.Z,{className:"w-5 h-5 text-red-600"}),info:s.jsx(n.Z,{className:"w-5 h-5 text-blue-600"}),warning:s.jsx(l.Z,{className:"w-5 h-5 text-yellow-600"})},h={success:"bg-white border-green-500 shadow-green-100",error:"bg-white border-red-500 shadow-red-100",info:"bg-white border-blue-500 shadow-blue-100",warning:"bg-white border-yellow-500 shadow-yellow-100"};return s.jsx("div",{className:"fixed top-4 right-4 z-[99999] space-y-2 pointer-events-none",children:e.map((e,t)=>(0,s.jsxs)("div",{className:`
            pointer-events-auto
            flex items-center gap-3
            px-4 py-3 rounded-lg
            border-l-4 shadow-lg
            min-w-[280px] max-w-md
            animate-slide-in-right
            ${h[e.type]}
          `,style:{animationDelay:`${50*t}ms`},children:[r[e.type],s.jsx("p",{className:"flex-1 text-sm font-medium text-gray-900",children:e.message}),s.jsx("button",{onClick:()=>removeToast(e.id),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(d.Z,{className:"w-4 h-4"})})]},e.id))})}},33466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>AuthProvider,useAuth:()=>useAuth,withAuth:()=>withAuth});var s=r(22406),a=r(80404),o=r(34661);let i=(0,a.createContext)(void 0);function AuthProvider({children:e}){let[t,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{checkAuthStatus()},[]);let checkAuthStatus=async()=>{try{let e=localStorage.getItem("dhyey_user"),t=localStorage.getItem("dhyey_token"),s=localStorage.getItem("dhyey_token_expiry");if(e&&t){if(s&&new Date().getTime()>parseInt(s)){console.log("Token expired, logging out"),logout();return}r(JSON.parse(e)),validateTokenInBackground(t)}}catch(e){console.error("Auth check failed:",e),logout()}finally{l(!1)}},validateTokenInBackground=async e=>{try{let t=await fetch("https://api.dhyey.delpat.in/api/v1/users/me",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include"});t.ok||(console.log("Token validation failed, logging out"),logout())}catch(e){console.error("Background token validation failed:",e)}},checkTokenValidity=async()=>{try{let e=localStorage.getItem("dhyey_token");if(!e)return!1;let t=await fetch("https://api.dhyey.delpat.in/api/v1/users/me",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include"});return t.ok}catch(e){return console.error("Token validation failed:",e),!1}},login=async(e,t,s=!1)=>{l(!0);try{let a=await o.kv.login(e,t),i={id:a.data.user._id,name:a.data.user.name,username:a.data.user.username,email:a.data.user.email,avatar:a.data.user.avatar,role:a.data.user.role||"user"},n=s?new Date().getTime()+2592e6:new Date().getTime()+864e5;localStorage.setItem("dhyey_user",JSON.stringify(i)),localStorage.setItem("dhyey_token",a.token),localStorage.setItem("dhyey_token_expiry",n.toString()),localStorage.setItem("dhyey_remember_me",s.toString()),r(i)}catch(e){if(e.message&&e.message.includes("suspended"))throw Error("Your account has been suspended. Please contact administration for further details.");throw e}finally{l(!1)}},register=async e=>{l(!0);try{let t=await o.kv.register(e),s={id:t.data.user._id,name:t.data.user.name,username:t.data.user.username,email:t.data.user.email,avatar:t.data.user.avatar,role:t.data.user.role||"user"};localStorage.setItem("dhyey_user",JSON.stringify(s)),localStorage.setItem("dhyey_token",t.token),r(s)}finally{l(!1)}},logout=async()=>{try{await o.kv.logout()}catch(e){console.error("Backend logout failed:",e)}localStorage.removeItem("dhyey_user"),localStorage.removeItem("dhyey_token"),localStorage.removeItem("dhyey_token_expiry"),localStorage.removeItem("dhyey_remember_me"),r(null)};return s.jsx(i.Provider,{value:{user:t,isLoading:n,isAuthenticated:!!t,login,register,logout,updateUser:e=>{if(t){let s={...t,...e};r(s),localStorage.setItem("dhyey_user",JSON.stringify(s))}},checkTokenValidity},children:e})}function useAuth(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function withAuth(e){return function(t){let{isAuthenticated:r,isLoading:a}=useAuth();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):r?s.jsx(e,{...t}):null}}},34661:(e,t,r)=>{"use strict";r.d(t,{OF:()=>n,Sb:()=>l,TV:()=>o,fh:()=>i,kv:()=>a});let s="https://api.dhyey.delpat.in/api/v1",apiRequest=async(e,t={})=>{let r=localStorage.getItem("dhyey_token"),a=localStorage.getItem("dhyey_token_expiry");if(r&&a&&new Date().getTime()>parseInt(a))throw console.log("Token expired, clearing session"),localStorage.removeItem("dhyey_user"),localStorage.removeItem("dhyey_token"),localStorage.removeItem("dhyey_token_expiry"),localStorage.removeItem("dhyey_remember_me"),Error("Session expired. Please log in again.");let o={...t,headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t.headers},...r&&{credentials:"include"}},i=await fetch(`${s}${e}`,o);if(401===i.status){if(e.includes("/auth/update-password")||e.includes("/auth/change-password")){let e=await i.json().catch(()=>({}));throw Error(e.message||"Current password is incorrect")}throw console.log("Unauthorized request, clearing session"),localStorage.removeItem("dhyey_user"),localStorage.removeItem("dhyey_token"),localStorage.removeItem("dhyey_token_expiry"),localStorage.removeItem("dhyey_remember_me"),Error("Session expired. Please log in again.")}if(!i.ok){let e=await i.json().catch(()=>({}));throw Error(e.message||`HTTP error! status: ${i.status}`)}return i.json()},a={login:(e,t)=>fetch(`${s}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(async e=>{if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.message||`HTTP error! status: ${e.status}`)}return e.json()}),register:e=>fetch(`${s}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(async e=>{let t=await e.json();if(!e.ok)throw Error(t.message||`HTTP error! status: ${e.status}`);return t}),forgotPassword:e=>apiRequest("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})}),resetPassword:(e,t,r)=>apiRequest(`/auth/reset-password/${e}`,{method:"PATCH",body:JSON.stringify({password:t,passwordConfirm:r})}),updatePassword:(e,t,r)=>apiRequest("/auth/update-password",{method:"PATCH",body:JSON.stringify({passwordCurrent:e,password:t,passwordConfirm:r})}),changePassword:(e,t,r)=>apiRequest("/auth/change-password",{method:"PATCH",body:JSON.stringify({passwordCurrent:e,password:t,passwordConfirm:r})}),logout:()=>apiRequest("/auth/logout",{method:"POST"}),refreshToken:()=>apiRequest("/auth/refresh-token",{method:"POST"})},o={getMe:()=>apiRequest("/users/me"),updateMe:e=>apiRequest("/users/me",{method:"PATCH",body:JSON.stringify(e)}),getUserProfile:e=>apiRequest(`/users/profile/${e}`),followUser:e=>apiRequest(`/users/${e}/follow`,{method:"POST"}),getUserFollowers:e=>apiRequest(`/users/${e}/followers`),getUserFollowing:e=>apiRequest(`/users/${e}/following`),getUserSavedStories:e=>apiRequest(`/users/${e}/saved`),getUserLikedStories:()=>apiRequest("/users/me/liked"),getAllUsers:()=>apiRequest("/users/admin/all")},i={getPublicStories:e=>apiRequest(`/stories${e?`?${e}`:""}`),getStoryById:e=>apiRequest(`/stories/${e}`),createStory:e=>apiRequest("/stories",{method:"POST",body:JSON.stringify(e)}),updateStory:(e,t)=>apiRequest(`/stories/${e}`,{method:"PATCH",body:JSON.stringify(t)}),deleteStory:e=>apiRequest(`/stories/${e}`,{method:"DELETE"}),likeStory:e=>apiRequest(`/stories/${e}/like`,{method:"POST"}),saveStory:e=>apiRequest(`/stories/${e}/save`,{method:"POST"}),shareStory:(e,t)=>apiRequest(`/stories/${e}/share`,{method:"POST",body:JSON.stringify(t||{})}),getUserStories:e=>apiRequest(`/stories/user/${e}`),searchStories:(e,t)=>{let r=new URLSearchParams({q:e,...t});return apiRequest(`/stories/search?${r}`)},getStoryComments:e=>apiRequest(`/stories/${e}/comments`),addComment:(e,t,r)=>apiRequest(`/stories/${e}/comments`,{method:"POST",body:JSON.stringify({content:t,parentComment:r})}),likeComment:(e,t)=>apiRequest(`/stories/${e}/comments/${t}/like`,{method:"POST"})},n={searchStories:(e,t)=>{let r=t?Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t&&""!==t)):{},s=new URLSearchParams({q:e,...r});return console.log("API call URL:",`/search/stories?${s}`),apiRequest(`/search/stories?${s}`)},searchUsers:e=>{let t=new URLSearchParams({q:e});return apiRequest(`/search/users?${t}`)},getSearchSuggestions:e=>{let t=new URLSearchParams({q:e});return apiRequest(`/search/suggestions?${t}`)},getSearchFilters:()=>apiRequest("/search/filters"),globalSearch:e=>{let t=new URLSearchParams({q:e});return apiRequest(`/search/global?${t}`)}},l={getAllStories:e=>apiRequest(`/admin/stories${e?`?${e}`:""}`),getStoryForReview:e=>apiRequest(`/admin/stories/${e}`),approveStory:e=>apiRequest(`/admin/stories/${e}/approve`,{method:"PATCH"}),rejectStory:(e,t)=>apiRequest(`/admin/stories/${e}/reject`,{method:"PATCH",body:JSON.stringify({reason:t})}),bulkApproveStories:e=>apiRequest("/admin/stories/bulk-approve",{method:"PATCH",body:JSON.stringify({storyIds:e})}),bulkRejectStories:(e,t)=>apiRequest("/admin/stories/bulk-reject",{method:"PATCH",body:JSON.stringify({storyIds:e,reason:t})}),getAllUsers:e=>apiRequest(`/users/admin/all${e?`?${e}`:""}`),suspendUser:(e,t,r)=>apiRequest(`/admin/users/${e}/suspend`,{method:"PATCH",body:JSON.stringify({reason:t,duration:r})}),unsuspendUser:e=>apiRequest(`/admin/users/${e}/unsuspend`,{method:"PATCH"}),deleteUser:e=>apiRequest(`/users/${e}`,{method:"DELETE"}),getAllAdmins:()=>apiRequest("/admin/admins"),getAdminProfile:()=>apiRequest("/admin/profile"),updateAdminProfile:e=>apiRequest("/admin/profile",{method:"PATCH",body:JSON.stringify(e)}),getAdminSettings:()=>apiRequest("/admin/settings"),updateAdminSettings:e=>apiRequest("/admin/settings",{method:"PATCH",body:JSON.stringify(e)}),getAnalytics:()=>apiRequest("/admin/analytics"),getDashboardStats:()=>apiRequest("/admin/dashboard-stats")}},55318:(e,t,r)=>{"use strict";r.d(t,{Am:()=>a,D2:()=>s});let ToastManager=class ToastManager{subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}show(e){this.listeners.forEach(t=>t(e))}constructor(){this.listeners=new Set}};let s=new ToastManager,showToast=(e,t="info",r=3e3)=>{s.show({message:e,type:t,duration:r})},a={success:(e,t=3e3)=>showToast(e,"success",t),error:(e,t=3e3)=>showToast(e,"error",t),info:(e,t=3e3)=>showToast(e,"info",t),warning:(e,t=3e3)=>showToast(e,"warning",t)}},4199:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>RootLayout,metadata:()=>N});var s=r(31487),a=r(50535),o=r.n(a),i=r(18196),n=r.n(i),l=r(55996),d=r.n(l);r(91641);var c=r(19894);let h=(0,c.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\components\layout\ConditionalLayout.tsx`),{__esModule:u,$$typeof:m}=h,g=h.default,x=(0,c.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\contexts\AuthContext.tsx`),{__esModule:p,$$typeof:y}=x;x.default;let f=(0,c.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\contexts\AuthContext.tsx#AuthProvider`);(0,c.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\contexts\AuthContext.tsx#useAuth`),(0,c.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\contexts\AuthContext.tsx#withAuth`);let v=(0,c.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\components\ui\ToastContainer.tsx`),{__esModule:b,$$typeof:j}=v,w=v.default,N={title:"DHYEY - Storytelling Platform",description:"A creative storytelling platform"};function RootLayout({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${o().variable} ${n().variable} ${d().variable} font-sans bg-gray-50 min-h-screen`,children:(0,s.jsxs)(f,{children:[s.jsx(g,{children:e}),s.jsx(w,{})]})})})}},91641:()=>{}};