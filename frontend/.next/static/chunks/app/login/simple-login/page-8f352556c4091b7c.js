(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9827],{70407:function(e,n,t){Promise.resolve().then(t.bind(t,85084))},85084:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return SimpleLoginPage}});var i=t(37821),o=t(58078),s=t(46179),a=t(91892);function SimpleLoginPage(){let[e,n]=(0,o.useState)(""),[t,l]=(0,o.useState)(""),[r,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(""),c=(0,s.useRouter)(),handleLogin=async n=>{n.preventDefault(),d(!0),p("");try{let n=await a.Z.post("/api/v1/users/login",{email:e,password:t});p("Login successful! Redirecting..."),n.data.token&&localStorage.setItem("token",n.data.token),setTimeout(()=>{c.push("/")},1e3)}catch(e){var i,o;p((null===(o=e.response)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.message)||"Login failed")}finally{d(!1)}};return(0,i.jsxs)("div",{style:{maxWidth:"400px",margin:"100px auto",padding:"20px"},children:[(0,i.jsx)("h1",{children:"DHYEY Login"}),(0,i.jsxs)("form",{onSubmit:handleLogin,children:[(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsx)("label",{children:"Email:"}),(0,i.jsx)("input",{type:"email",value:e,onChange:e=>n(e.target.value),required:!0,style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsx)("label",{children:"Password:"}),(0,i.jsx)("input",{type:"password",value:t,onChange:e=>l(e.target.value),required:!0,style:{width:"100%",padding:"8px",marginTop:"5px"}})]}),(0,i.jsx)("button",{type:"submit",disabled:r,style:{width:"100%",padding:"10px",backgroundColor:"#007bff",color:"white",border:"none",cursor:r?"not-allowed":"pointer"},children:r?"Logging in...":"Login"})]}),u&&(0,i.jsx)("p",{style:{marginTop:"15px",color:u.includes("successful")?"green":"red"},children:u}),(0,i.jsx)("p",{style:{marginTop:"20px",textAlign:"center"},children:(0,i.jsx)("a",{href:"/",style:{color:"#007bff"},children:"Back to Home"})})]})}}},function(e){e.O(0,[4140,8907,7115,2835,1744],function(){return e(e.s=70407)}),_N_E=e.O()}]);