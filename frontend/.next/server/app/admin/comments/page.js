(()=>{var e={};e.id=7594,e.ids=[7594],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},65922:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(8763);let a=(0,r.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},35822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(8763);let a=(0,r.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},11251:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o});var r=s(36577),a=s(55533),n=s(40443),l=s.n(n),i=s(53320),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["admin",{children:["comments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,98685)),"D:\\Prog\\Webdev\\react\\filmy-creators\\frontend\\src\\app\\admin\\comments\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,46191)),"D:\\Prog\\Webdev\\react\\filmy-creators\\frontend\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4199)),"D:\\Prog\\Webdev\\react\\filmy-creators\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,31459,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Prog\\Webdev\\react\\filmy-creators\\frontend\\src\\app\\admin\\comments\\page.tsx"],m="/admin/comments/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/comments/page",pathname:"/admin/comments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},80512:(e,t,s)=>{Promise.resolve().then(s.bind(s,28849))},28849:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>CommentsManager});var r=s(22406),a=s(80404),n=s(38837),l=s(78775);s(66738);var i=s(65922),d=s(68888),o=s(74542),c=s(83993),m=s(33326),x=s(35822),h=s(98097),u=s.n(h);let g={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",flagged:"bg-orange-100 text-orange-800"};function CommentsManager(){let[e,t]=(0,a.useState)([]),[s,h]=(0,a.useState)(""),[p,j]=(0,a.useState)("all"),[y,f]=(0,a.useState)([]),[v,b]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[C,k]=(0,a.useState)(1);(0,a.useEffect)(()=>{t([{id:1,content:"This is an amazing story! The plot twists kept me engaged throughout. Great work!",authorId:101,authorName:"Sarah Johnson",authorAvatar:"https://randomuser.me/api/portraits/women/1.jpg",storyId:201,storyTitle:"The Lost Kingdom",storyAuthor:"john_doe",status:"pending",createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",likes:12,replies:3},{id:2,content:"I found some grammatical errors in paragraph 3. Otherwise, really enjoyed it!",authorId:102,authorName:"Mike Chen",authorAvatar:"https://randomuser.me/api/portraits/men/2.jpg",storyId:202,storyTitle:"Digital Dreams",storyAuthor:"jane_smith",status:"approved",createdAt:"2024-01-14T14:20:00Z",updatedAt:"2024-01-14T15:45:00Z",likes:5,replies:1},{id:3,content:"This content is inappropriate and should not be on this platform.",authorId:103,authorName:"Anonymous User",authorAvatar:"",storyId:203,storyTitle:"Dark Secrets",storyAuthor:"mystery_writer",status:"flagged",createdAt:"2024-01-13T09:15:00Z",updatedAt:"2024-01-13T11:30:00Z",likes:0,replies:0},{id:4,content:"Beautiful writing! Can't wait for the next chapter.",authorId:104,authorName:"Emma Davis",authorAvatar:"https://randomuser.me/api/portraits/women/3.jpg",storyId:201,storyTitle:"The Lost Kingdom",storyAuthor:"john_doe",status:"approved",createdAt:"2024-01-12T16:45:00Z",updatedAt:"2024-01-12T16:45:00Z",likes:8,replies:2}])},[]);let A=e.filter(e=>{let t=e.content.toLowerCase().includes(s.toLowerCase())||e.authorName.toLowerCase().includes(s.toLowerCase())||e.storyTitle.toLowerCase().includes(s.toLowerCase()),r="all"===p||e.status===p;return t&&r}),S=10*C,P=S-10,_=A.slice(P,S),Z=Math.ceil(A.length/10),handleSelectComment=e=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},handleViewComment=e=>{w(e),b(!0)},handleStatusChange=(s,r)=>{t(e.map(e=>e.id===s?{...e,status:r,updatedAt:new Date().toISOString()}:e))},handleBulkStatusChange=s=>{t(e.map(e=>y.includes(e.id)?{...e,status:s,updatedAt:new Date().toISOString()}:e)),f([])},formatDate=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comments Management"}),r.jsx("p",{className:"text-gray-600",children:"Review and moderate story comments"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Comments"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),r.jsx(i.Z,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"pending"===e.status).length})]}),r.jsx(n.Z,{className:"h-8 w-8 text-yellow-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"approved"===e.status).length})]}),r.jsx(l.Z,{className:"h-8 w-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Flagged"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"flagged"===e.status).length})]}),r.jsx(i.Z,{className:"h-8 w-8 text-red-600"})]})})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"relative group",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:r.jsx(d.Z,{className:"h-5 w-5 text-gray-400 group-focus-within:text-purple-500 transition-colors duration-200"})}),r.jsx("input",{type:"text",placeholder:"Search comments...",value:s,onChange:e=>h(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl bg-gradient-to-r from-white to-gray-50 hover:from-gray-50 hover:to-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white text-gray-900 placeholder-gray-400 shadow-sm transition-all duration-200 hover:shadow-md focus:shadow-lg"})]}),(0,r.jsxs)("select",{value:p,onChange:e=>j(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl bg-gradient-to-r from-white to-gray-50 hover:from-gray-50 hover:to-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:bg-white text-gray-900 shadow-sm transition-all duration-200 hover:shadow-md focus:shadow-lg appearance-none",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"flagged",children:"Flagged"})]}),r.jsx("div",{}),r.jsx("div",{})]})}),y.length>0&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:[y.length," comment(s) selected"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>handleBulkStatusChange("approved"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Approve Selected"}),r.jsx("button",{onClick:()=>handleBulkStatusChange("rejected"),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Reject Selected"}),r.jsx("button",{onClick:()=>f([]),className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Clear"})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:y.length>0&&y.length===_.length,onChange:()=>{f(y.length===_.length?[]:_.map(e=>e.id))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,r.jsxs)("span",{className:"ml-3 text-sm font-medium text-gray-900",children:["Comments (",A.length,")"]})]})}),_.length>0?r.jsx("div",{className:"divide-y divide-gray-200",children:_.map(e=>r.jsx("div",{className:"p-6 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx("input",{type:"checkbox",checked:y.includes(e.id),onChange:()=>handleSelectComment(e.id),className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),r.jsx("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[e.authorAvatar?r.jsx(u(),{src:e.authorAvatar,alt:e.authorName,width:32,height:32,className:"rounded-full h-8 w-8"}):r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-400 to-gray-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:e.authorName.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.authorName}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:['on "',e.storyTitle,'" by ',e.storyAuthor]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g[e.status]}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),r.jsx("p",{className:"text-gray-700 mb-3 line-clamp-3",children:e.content}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(o.Z,{size:14,className:"mr-1"}),formatDate(e.createdAt)]}),(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(c.Z,{size:14,className:"mr-1"}),e.likes]}),(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(i.Z,{size:14,className:"mr-1"}),e.replies," replies"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("button",{onClick:()=>handleViewComment(e),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",title:"View Details",children:r.jsx(m.Z,{size:16})}),(0,r.jsxs)("select",{value:e.status,onChange:t=>handleStatusChange(e.id,t.target.value),className:"text-xs border border-gray-200 rounded px-2 py-1 bg-white",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"flagged",children:"Flagged"})]}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:r.jsx(x.Z,{size:16})})]})]})})]})},e.id))}):(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(i.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No comments found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]})]}),Z>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",r.jsx("span",{className:"font-medium",children:P+1})," to"," ",r.jsx("span",{className:"font-medium",children:Math.min(S,A.length)})," ","of ",r.jsx("span",{className:"font-medium",children:A.length})," results"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>k(e=>Math.max(1,e-1)),disabled:1===C,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:()=>k(e=>Math.min(Z,e+1)),disabled:C===Z,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]}),v&&N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Comment Details"}),(0,r.jsxs)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-500",children:[r.jsx("span",{className:"sr-only",children:"Close"}),r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[N.authorAvatar?r.jsx(u(),{src:N.authorAvatar,alt:N.authorName,width:40,height:40,className:"rounded-full h-10 w-10"}):r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-gray-400 to-gray-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:N.authorName.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:N.authorName}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:['Comment on "',N.storyTitle,'"']})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Comment Content"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsx("p",{className:"text-gray-700",children:N.content})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(c.Z,{size:14,className:"mr-1"}),N.likes," likes"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(i.Z,{size:14,className:"mr-1"}),N.replies," replies"]}),(0,r.jsxs)("span",{children:["Posted: ",formatDate(N.createdAt)]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g[N.status]}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})]})]}),r.jsx("div",{className:"mt-6 flex justify-end space-x-3",children:r.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"})})]})})})]})}},98685:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>CommentsPage,metadata:()=>o});var r=s(31487),a=s(19894);let n=(0,a.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\components\admin\CommentsManager.tsx`),{__esModule:l,$$typeof:i}=n,d=n.default,o={title:"Comments | Dhey Production Admin",description:"Manage and moderate story comments"};function CommentsPage(){return r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx(d,{})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[7378,8097,9804,621,866,1270,9930,9695,7718],()=>__webpack_exec__(11251));module.exports=s})();