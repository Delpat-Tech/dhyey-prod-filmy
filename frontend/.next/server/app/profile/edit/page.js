(()=>{var e={};e.id=3159,e.ids=[3159],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},89872:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=t(36577),a=t(55533),o=t(40443),l=t.n(o),i=t(53320),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(r,n);let c=["",{children:["profile",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,87269)),"D:\\Prog\\Webdev\\react\\filmy-creators\\frontend\\src\\app\\profile\\edit\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4199)),"D:\\Prog\\Webdev\\react\\filmy-creators\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,31459,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Prog\\Webdev\\react\\filmy-creators\\frontend\\src\\app\\profile\\edit\\page.tsx"],u="/profile/edit/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/profile/edit/page",pathname:"/profile/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3108:(e,r,t)=>{Promise.resolve().then(t.bind(t,31627))},31627:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>EditProfilePage});var s=t(22406),a=t(80404),o=t(55731),l=t.n(o),i=t(98097),n=t.n(i),c=t(2153),d=t(4129),u=t(4721),x=t(81380),p=t(94357),m=t(34661);function EditProfilePage(){let[e,r]=(0,a.useState)({name:"",username:"",bio:"",location:"",website:""}),[t,o]=(0,a.useState)(""),[i,g]=(0,a.useState)(!0),[b,h]=(0,a.useState)(!1),[f,y]=(0,a.useState)(""),[j,v]=(0,a.useState)(null);(0,a.useEffect)(()=>{fetchUserData()},[]);let fetchUserData=async()=>{try{let e=await m.TV.getMe(),t=e.data.user;r({name:t.name||"",username:t.username||"",bio:t.bio||"",location:t.location||"",website:t.website||""}),o(t.avatar||"")}catch(e){console.error("Error fetching user data:",e),y("Failed to load user data")}finally{g(!1)}},handleSubmit=async r=>{r.preventDefault(),h(!0),y("");try{j&&await uploadPhoto(),await m.TV.updateMe(e),y("Profile updated successfully!")}catch(e){y(e.response?.data?.message||"Failed to update profile")}finally{h(!1)}},uploadPhoto=async()=>{if(!j)return;let e=new FormData;e.append("avatar",j);try{let r=await m.TV.updateMe(e);o(r.data.user.avatar),v(null)}catch(e){console.error("Photo upload failed:",e)}};return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(l(),{href:"/profile",className:"text-gray-600 hover:text-gray-900 transition-colors",children:s.jsx(c.Z,{size:20})}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Edit Profile"})]}),(0,s.jsxs)("button",{onClick:handleSubmit,disabled:b,className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(d.Z,{size:16}),s.jsx("span",{children:b?"Saving...":"Save Changes"})]})]})}),(0,s.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx(n(),{src:t||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&fit=crop&crop=face",alt:"Profile",width:100,height:100,className:"rounded-full object-cover border-4 border-gray-100"}),s.jsx("input",{type:"file",id:"profilePhoto",accept:"image/*",className:"hidden",onChange:e=>{let r=e.target.files?.[0];if(r){v(r);let e=URL.createObjectURL(r);o(e)}}}),s.jsx("button",{type:"button",onClick:()=>document.getElementById("profilePhoto")?.click(),className:"absolute bottom-0 right-0 bg-purple-600 text-white p-2 rounded-full hover:bg-purple-700 transition-colors shadow-lg",children:s.jsx(u.Z,{size:16})})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Profile Photo"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click the camera icon to update your photo"}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG or GIF. Max size 5MB."})]})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx(x.Z,{size:20,className:"text-gray-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:e.name,onChange:t=>r({...e,name:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 bg-white transition-colors",placeholder:"Enter your full name"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",value:e.username,onChange:t=>r({...e,username:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 bg-white transition-colors",placeholder:"Choose a unique username"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx(p.Z,{size:20,className:"text-gray-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"About & Location"})]})}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),s.jsx("textarea",{value:e.bio,onChange:t=>r({...e,bio:t.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none text-gray-900 bg-white transition-colors",placeholder:"Tell us about yourself..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 500 characters"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),s.jsx("input",{type:"text",value:e.location,onChange:t=>r({...e,location:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 bg-white transition-colors",placeholder:"City, Country"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),s.jsx("input",{type:"url",value:e.website,onChange:t=>r({...e,website:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 bg-white transition-colors",placeholder:"https://yourwebsite.com"})]})]})]})]}),f&&s.jsx("div",{className:`p-4 rounded-lg text-center font-medium ${f.includes("successfully")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:f})]})]})})}},87269:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>o,default:()=>n});var s=t(19894);let a=(0,s.createProxy)(String.raw`D:\Prog\Webdev\react\filmy-creators\frontend\src\app\profile\edit\page.tsx`),{__esModule:o,$$typeof:l}=a,i=a.default,n=i}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[7378,8097,2449,9930],()=>__webpack_exec__(89872));module.exports=t})();