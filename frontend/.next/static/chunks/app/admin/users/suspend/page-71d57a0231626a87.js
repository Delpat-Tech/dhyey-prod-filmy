(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9302],{34270:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(57068);let r=(0,n.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},18347:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(57068);let r=(0,n.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},81682:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(57068);let r=(0,n.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},51843:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(57068);let r=(0,n.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},52080:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(57068);let r=(0,n.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},52183:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(57068);let r=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},25861:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(57068);let r=(0,n.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},8585:function(e,s,t){Promise.resolve().then(t.bind(t,92057))},92057:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return SuspendUsers}});var n=t(37821),r=t(58078),a=t(25861),l=t(81682),i=t(51843),d=t(18347),c=t(52183),o=t(57068);let m=(0,o.Z)("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);var u=t(52080),x=t(34270),h=t(96871),p=t.n(h),g=t(45039),f=t.n(g);function SuspendUsers(){let[e,s]=(0,r.useState)([]),[t,o]=(0,r.useState)(""),[h,g]=(0,r.useState)([]),[y,j]=(0,r.useState)(!1),[b,v]=(0,r.useState)(null),[N,w]=(0,r.useState)(1);(0,r.useEffect)(()=>{s([{id:1,name:"Alex Johnson",username:"alexj",email:"alex.johnson@example.com",avatar:"https://randomuser.me/api/portraits/men/1.jpg",status:"suspended",suspensionReason:"Violation of community guidelines",suspensionDate:"2024-01-15T10:30:00Z",suspensionEnds:"2024-02-15T10:30:00Z",suspendedBy:"admin@dheyproduction.com",reportCount:3,notes:"Multiple reports of inappropriate content"},{id:2,name:"Sarah Williams",username:"sarahw",email:"sarah.w@example.com",avatar:"https://randomuser.me/api/portraits/women/1.jpg",status:"suspended",suspensionReason:"Spam account",suspensionDate:"2024-01-10T14:20:00Z",suspensionEnds:"Permanent",suspendedBy:"moderator@dheyproduction.com",reportCount:12,notes:"Automated spam account, multiple violations"}])},[]);let k=e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())||e.username.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())),C=10*N,Z=C-10,S=k.slice(Z,C),M=Math.ceil(k.length/10),handleSelectUser=e=>{g(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},handleUnsuspend=e=>{v(e),j(!0)},formatDate=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),formatTimeRemaining=e=>{if("Permanent"===e)return"Permanent suspension";let s=new Date,t=new Date(e),n=t.getTime()-s.getTime();if(n<=0)return"Suspension ended";let r=Math.floor(n/864e5),a=Math.floor(n%864e5/36e5);return r>0?"".concat(r,"d ").concat(a,"h remaining"):a>0?"".concat(a,"h remaining"):"".concat(Math.floor(n%36e5/6e4),"m remaining")};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Suspended Users"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Manage suspended user accounts and review suspension details"})]}),(0,n.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,n.jsxs)(p(),{href:"/admin/users",className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:[(0,n.jsx)(a.Z,{size:16}),(0,n.jsx)("span",{children:"Back to All Users"})]})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Suspended"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"suspended"===e.status).length})]}),(0,n.jsx)(l.Z,{className:"h-8 w-8 text-red-600"})]})}),(0,n.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Temporary Suspensions"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"suspended"===e.status&&"Permanent"!==e.suspensionEnds).length})]}),(0,n.jsx)(i.Z,{className:"h-8 w-8 text-yellow-600"})]})}),(0,n.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Permanent Bans"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.filter(e=>"Permanent"===e.suspensionEnds).length})]}),(0,n.jsx)(d.Z,{className:"h-8 w-8 text-red-700"})]})})]}),(0,n.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,n.jsx)("input",{type:"text",placeholder:"Search suspended users...",value:t,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 bg-white"})]})}),(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,n.jsx)("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:h.length>0&&h.length===S.length,onChange:()=>{g(h.length===S.length?[]:S.map(e=>e.id))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,n.jsx)("span",{className:"ml-3 text-sm font-medium text-gray-900",children:h.length>0?"".concat(h.length," selected"):"Suspended Users (".concat(k.length,")")}),h.length>0&&(0,n.jsx)("div",{className:"ml-4 flex space-x-2",children:(0,n.jsxs)("button",{onClick:()=>{v(e.find(e=>e.id===h[0])||null),j(!0)},className:"flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200",children:[(0,n.jsx)(m,{size:16,className:"mr-1.5"}),"Reinstate ",h.length>1?"".concat(h.length," users"):"user"]})})]})}),S.length>0?(0,n.jsx)("div",{className:"divide-y divide-gray-200",children:S.map(e=>(0,n.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("input",{type:"checkbox",checked:h.includes(e.id),onChange:()=>handleSelectUser(e.id),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(f(),{src:e.avatar,alt:e.name,width:48,height:48,className:"rounded-full h-12 w-12"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,n.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Suspended"})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["@",e.username," â€¢ ",e.email]}),e.suspensionReason&&(0,n.jsxs)("div",{className:"mt-1 text-sm text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Reason:"})," ",e.suspensionReason,e.suspensionEnds&&(0,n.jsxs)("span",{className:"ml-3",children:[(0,n.jsx)("span",{className:"font-medium",children:"Until:"})," ","Permanent"===e.suspensionEnds?"Permanent":"".concat(formatDate(e.suspensionEnds)," (").concat(formatTimeRemaining(e.suspensionEnds),")")]})]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)("button",{onClick:()=>handleUnsuspend(e),className:"flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200",children:[(0,n.jsx)(m,{size:16,className:"mr-1.5"}),"Reinstate"]}),(0,n.jsx)("button",{onClick:()=>{v(e)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full",title:"View Details",children:(0,n.jsx)(u.Z,{size:18})})]})]})},e.id))}):(0,n.jsxs)("div",{className:"p-12 text-center",children:[(0,n.jsx)(l.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,n.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No suspended users found"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t?"Try a different search term":"No users are currently suspended"})]})]}),M>1&&(0,n.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 bg-white border-t border-gray-200 rounded-b-lg",children:[(0,n.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,n.jsx)("button",{onClick:()=>w(e=>Math.max(1,e-1)),disabled:1===N,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),(0,n.jsx)("button",{onClick:()=>w(e=>Math.min(M,e+1)),disabled:N===M,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),(0,n.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,n.jsx)("span",{className:"font-medium",children:Z+1})," to"," ",(0,n.jsx)("span",{className:"font-medium",children:Math.min(C,k.length)})," ","of ",(0,n.jsx)("span",{className:"font-medium",children:k.length})," results"]})}),(0,n.jsx)("div",{children:(0,n.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,n.jsxs)("button",{onClick:()=>w(e=>Math.max(1,e-1)),disabled:1===N,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[(0,n.jsx)("span",{className:"sr-only",children:"Previous"}),(0,n.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,M)},(e,s)=>{let t=null;return(M<=5?t=s+1:N<=3?s<4?t=s+1:4===s&&(t=M):N>=M-2?0===s?t=1:s>=1&&(t=M-(4-s)):t=0===s?1:4===s?M:N-2+s,null===t)?null:(0,n.jsx)("button",{onClick:()=>w(t),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(N===t?"z-10 bg-purple-50 border-purple-500 text-purple-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:t},s)}),(0,n.jsxs)("button",{onClick:()=>w(e=>Math.min(M,e+1)),disabled:N===M,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[(0,n.jsx)("span",{className:"sr-only",children:"Next"}),(0,n.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]}),y&&b&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Reinstate User Account"}),(0,n.jsxs)("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-500",children:[(0,n.jsx)("span",{className:"sr-only",children:"Close"}),(0,n.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Are you sure you want to reinstate the account for ",(0,n.jsx)("span",{className:"font-medium",children:b.name}),"?"]}),b.suspensionReason&&(0,n.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 rounded-md",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(x.Z,{className:"h-5 w-5 text-yellow-400","aria-hidden":"true"})}),(0,n.jsxs)("div",{className:"ml-3",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Suspension Details"}),(0,n.jsxs)("div",{className:"mt-2 text-sm text-yellow-700",children:[(0,n.jsxs)("p",{children:["Reason: ",b.suspensionReason]}),(0,n.jsxs)("p",{className:"mt-1",children:["Suspended on: ",b.suspensionDate?formatDate(b.suspensionDate):"N/A"]}),b.suspensionEnds&&"Permanent"!==b.suspensionEnds&&(0,n.jsxs)("p",{className:"mt-1",children:["Original end date: ",formatDate(b.suspensionEnds)]}),b.notes&&(0,n.jsxs)("p",{className:"mt-2 font-medium",children:["Notes: ",(0,n.jsx)("span",{className:"font-normal",children:b.notes})]})]})]})]})})]}),(0,n.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,n.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",onClick:()=>{b&&(s(e.map(e=>e.id===b.id?{...e,status:"active",suspensionReason:void 0}:e)),j(!1),v(null),g(h.filter(e=>e!==b.id)))},children:"Yes, reinstate account"}),(0,n.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>j(!1),children:"Cancel"})]})]})})]})}},96871:function(e,s,t){e.exports=t(92054)}},function(e){e.O(0,[2054,6895,7115,2835,1744],function(){return e(e.s=8585)}),_N_E=e.O()}]);