exports.id=1510,exports.ids=[1510],exports.modules={4192:(e,s,t)=>{Promise.resolve().then(t.bind(t,75612))},75612:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AdminLayout});var r=t(22406),a=t(80404),i=t(55731),l=t.n(i),n=t(36460),d=t(79711),o=t(7299),c=t(94357),m=t(8106),x=t(21088),h=t(29122),g=t(76439),u=t(84880),p=t(24824),f=t(33326),y=t(34661);function AdminSidebar({isCollapsed:e,onToggle:s}){let t=(0,n.usePathname)(),[i,b]=(0,a.useState)(0);(0,a.useEffect)(()=>{loadPendingCount()},[]);let loadPendingCount=async()=>{try{let e=await y.Sb.getDashboardStats();e.data?.pendingReviews&&b(e.data.pendingReviews)}catch(e){console.error("Failed to load pending count:",e)}},j=[{title:"Overview",items:[{name:"Dashboard",href:"/admin",icon:d.Z},{name:"Analytics",href:"/admin/analytics",icon:o.Z}]},{title:"Content Management",items:[{name:"Story Reviews",href:"/admin/stories",icon:c.Z,badge:i>0?i.toString():void 0}]},{title:"User Management",items:[{name:"All Users",href:"/admin/users",icon:m.Z},{name:"Admin Users",href:"/admin/admins",icon:x.Z}]},{title:"DHEY Production",items:[{name:"Competitions",href:"/admin/competitions",icon:h.Z},{name:"Portfolio",href:"/admin/portfolio",icon:g.Z}]}];return(0,r.jsxs)("aside",{className:`hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 lg:pt-16 bg-white border-r border-gray-200 transition-all duration-300 ${e?"lg:w-16":"lg:w-64"}`,children:[r.jsx("div",{className:"absolute -right-3 top-6 z-10",children:r.jsx("button",{onClick:s,className:"bg-white border border-gray-200 rounded-full p-1 shadow-sm hover:shadow-md transition-shadow",children:e?r.jsx(u.Z,{className:"h-4 w-4 text-gray-600"}):r.jsx(p.Z,{className:"h-4 w-4 text-gray-600"})})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:[r.jsx("nav",{className:"flex-1 px-4 py-6 space-y-8",children:j.map(s=>(0,r.jsxs)("div",{children:[!e&&r.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:s.title}),r.jsx("div",{className:`${e?"":"mt-3"} space-y-1`,children:s.items.map(s=>{let a=t===s.href;return(0,r.jsxs)(l(),{href:s.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${a?"bg-purple-100 text-purple-700 border-r-2 border-purple-500":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"} ${e?"justify-center":""}`,title:e?s.name:void 0,children:[r.jsx(s.icon,{className:`flex-shrink-0 h-5 w-5 ${e?"":"-ml-1 mr-3"} ${a?"text-purple-500":"text-gray-400 group-hover:text-gray-500"}`}),!e&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"truncate",children:s.name}),s.badge&&r.jsx("span",{className:"ml-auto inline-block py-0.5 px-2 text-xs font-medium rounded-full bg-red-100 text-red-600",children:s.badge})]}),e&&s.badge&&r.jsx("span",{className:"absolute -top-1 -right-1 inline-block w-3 h-3 bg-red-500 rounded-full"})]},s.name)})})]},s.title))}),r.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:e?(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(l(),{href:"/admin/stories",className:"w-full flex items-center justify-center p-2 border border-transparent rounded-lg shadow-sm text-white bg-purple-600 hover:bg-purple-700 transition-colors",title:"Review Stories",children:r.jsx(c.Z,{className:"h-4 w-4"})}),r.jsx(l(),{href:"/",className:"w-full flex items-center justify-center p-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",title:"View Site",children:r.jsx(f.Z,{className:"h-4 w-4"})})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(l(),{href:"/admin/stories",className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"Review Stories"}),r.jsx(l(),{href:"/",className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"View Site"})]})})]})]})}var b=t(98097),j=t.n(b),v=t(19785),N=t(5370),w=t(81380),S=t(94827),Z=t(95670),A=t(33466),k=t(9695);function AdminHeader(){let[e,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)(!1),{logout:d,user:o}=(0,A.useAuth)(),c=(0,n.useRouter)(),m={name:o?.name||"Loading...",email:o?.email||"Loading...",avatar:(0,k.E$)(o?.avatar),role:o?.role==="admin"?"Admin":"User"},handleLogout=async()=>{try{await d()}catch(e){console.error("Logout failed:",e),c.push("/auth/login")}};return r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>i(!t),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:t?r.jsx(v.Z,{size:20}):r.jsx(N.Z,{size:20})}),(0,r.jsxs)(l(),{href:"/admin",className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"FC"})}),(0,r.jsxs)("div",{className:"hidden sm:block",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),r.jsx("div",{className:"text-xs text-gray-500",children:"DHEY Productions"})]})]})]}),r.jsx("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>s(!e),className:"flex items-center space-x-2 p-1 hover:bg-gray-100 rounded-lg",children:[r.jsx(j(),{src:m.avatar,alt:m.name,width:32,height:32,className:"rounded-full"}),(0,r.jsxs)("div",{className:"hidden sm:block text-left",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name}),r.jsx("div",{className:"text-xs text-gray-500",children:m.role})]})]}),e&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-max",children:[(0,r.jsxs)("div",{className:"p-3 border-b border-gray-100",children:[r.jsx("div",{className:"font-medium text-gray-900",children:m.name}),r.jsx("div",{className:"text-sm text-gray-500",children:m.email})]}),(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsxs)(l(),{href:"/admin/profile",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[r.jsx(w.Z,{size:16}),r.jsx("span",{children:"Profile Settings"})]}),(0,r.jsxs)(l(),{href:"/admin/settings",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[r.jsx(S.Z,{size:16}),r.jsx("span",{children:"Admin Settings"})]}),r.jsx("hr",{className:"my-1"}),(0,r.jsxs)("button",{onClick:handleLogout,className:"flex items-center space-x-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[r.jsx(Z.Z,{size:16}),r.jsx("span",{children:"Sign Out"})]})]})]})]})})]})})})}function AdminLayout({children:e}){let[s,t]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(AdminHeader,{}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(AdminSidebar,{isCollapsed:s,onToggle:()=>{t(!s)}}),r.jsx("main",{className:`flex-1 p-6 transition-all duration-300 ${s?"lg:ml-16":"lg:ml-64"}`,children:e})]})]})}},46191:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>d});var r=t(19894);let a=(0,r.createProxy)(String.raw`C:\Delpath\dhyey-prod-filmy\frontend\src\app\admin\layout.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,d=n}};